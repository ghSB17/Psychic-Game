<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
    <title>The Psychic Game</title>
    <!-- <style>
 
    </style> -->
</head>
<body>
    
    <p class="text-center h1"> The Psychic Game</p>
    <div class="container border border-dark text-center h4 mt-5 mb-5 pt-5 pb-5 rounded" >
        <p>
            Wins:
            <span id="idWins">0</span>
        </p>
        <p>
            Loses:
            <span id="idLoses">0</span>
        </p>
        <p>
            Guesses Left:
            <span id="idGuessesLeft">9</span>
        </p>
        <p>
            Your Guesses So Far:
            <span id="idGuessesSoFar"></span>
        </p>
    </div>
    
    <script >
    var wins = document.getElementById("idWins");
    var loses = document.getElementById("idLoses");
    var guessesLeft = document.getElementById("idGuessesLeft");
    var guessesSoFar = document.getElementById("idGuessesSoFar");

    var vWins = 0;
    var vLoses = 0;
    var vGuessesLeft = 9;
    var vGuessedLetters=[];
    
    var vGuess = "";
    var vKeyCode = 0;
    var vKeyInput = "";

    document.onkeyup = function(event) { 
                            myFunction(event) };

    function myFunction(event) {
        if( vGuessesLeft === 9) {
            vGuess = String.fromCharCode( Math.floor( Math.random()*26 ) +97) ;
            console.log(vGuess);
        }
        
        vKeyCode = event.keyCode;
        if ( (vKeyCode >= 97 && vKeyCode <=123) || 
              ((vKeyCode >= 65 && vKeyCode <=90)) ) 
        {

            vKeyInput = event.key.toLowerCase();
            if( vGuessedLetters.indexOf(vKeyInput) === -1 ) {
                vGuessedLetters.push(vKeyInput);
                if( vGuess === vKeyInput ) {
                    vWins++;
                    vGuessesLeft=9;
                    vGuessedLetters=[];
                   
                } else {
                    vGuessesLeft--;
                    if( vGuessesLeft === 0 ) {
                        vLoses++;
                        vGuessesLeft=9;
                        vGuessedLetters=[];
                        
                    }
                }
            }
        
        }
        
        wins.textContent = vWins;
        loses.textContent = vLoses;
        guessesLeft.textContent = vGuessesLeft;
        guessesSoFar.textContent = vGuessedLetters.join(',  ');

    }
</script>
        

    
</body>
</html>